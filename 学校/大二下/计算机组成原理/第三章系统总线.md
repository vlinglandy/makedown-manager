## 3.1总线概念

> 总线是连接各个部位的信息传输线，各个部位通过总线进行连接，是各个部件共享的信息传输介质

## 总线上的传送

> 按信息传输方式不同，总线传输分为串行传送和并行传送

## 单总线结构框图

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md145025.813975.png)

> 一条总线同属处理用户输入输出，cpu和内存的调度
>
> 首先是cpu向总线传输信息，总线接收信息，然后向主存进行交互，期间不断向io接口获取用户输入输出

**面向cpu的双总线结构框图**

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md146153.1875207.png)

> 以cpu为核心，分散出两条线，一条是io总线，用于连接io接口，另一条是m总线，用于连接主存
>
> 存在的问题：当设备与主存要进行交互的时候只能通过cpu进行连接，影响传输效率

## 以存储器为中心的双总线结构

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md231716.1770315.png)

> 首先由一条系统总线承载着cpu，主存，和io接口，并且为了提高传输速录，在cpu和主存之间多了一条存储总线

# 3.2总线分类

```mindmap
- 总线分类
  - 片内总线：芯片内部的总线
  - 系统总线(芯片外)：用于连接各个部件的信息传输线
    - 地址总线：（单向）和存储地址和io地址相关
    - 数据总线：（双向）和机器字长和存储字长相关相关
    - 控制总线：有入有出（存储器读写，总线确认中断允许）
  - 通信总线：用于计算机系统之间或者与其他系统之间的通讯
    - 串行通信总线
    - 并行通信总线
```

# 3.3总线特性及指标

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md2923.2132966.png)

> 计算机内部有一个主板，上面有一些插口，分别可以接入cpu插板，主存插板，io插板

## 总线特性

```mindmap
- 总线特性
  - 机械特性
    - 尺寸
    - 形状
    - 管脚数量
  - 电气特性
    - 传输方向
    - 有效的电平
  - 功能特性
    - 地址
    - 数据
    - 控制
  - 时间特性
    - 信号的时序关系
```

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md3582.7172177.png)

## 总线的性能指标

```mindmap
- 性能指标
  - 总线宽度
  - 时钟同步异步
  - 传输速率
  - 其他指标，负载
  - 信号线数量
  - 总线复用
  - 总线控制方式
```

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md3863.8654603.png)

# 3.4总线结构

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md4211.2132596.png)

> 设置一个主存总线和一个io总线，在主存总线上设置cpu和主存，在io总线上设置io接口和设备
>
> 主存和io接口通过通道进行连接，通道具有特殊功能，往往由操作系统进行编写

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md7310.7053834.png)

> 以cpu为中心的结构，两边延伸出io总线和主存总线，主存有和io总线进行连接的dma总线
>
> DMA(direct memory access)直接存储器访问

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md7697.5051569.png)

> 由于主存的速率提升较慢，cpu提升速率较快，直接将主存和cpu进行连接很难发挥cpu速度上的优势，所以新增了一个cache（缓存）,进行来提高效率，并将其连接在局部总线上
>
> 局部总线上还连接了局部io控制器，来进行输入输出
>
> 此外还设置了一条扩展总线，用于连接其余各个设备

**错题记录**

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md7996.359897.png)

## 四总线结构

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md8166.0720473.png)

> 由于很多设备堆积在扩展总线上影响效率，开发出四总线结构
>
> 首先系统总线上连接cache和主存，cache连接cpu
>
> 高速总线连接cache和扩展总线，高速总线上连接高速设备，拓展总线连接低速设备

# 3.5总线控制

```mindmap
- 能否相应总线请求
  - 主设备(模块)
    - 对总线有控制权
  - 从设备(模块)
    - 相应主设备的总线控制
```

## 总线判优控制

```mindmap
- 判优控制
  - 集中式
    - 链式查询
    - 定时器查询
    - 独立请求方式
  -分布式

```

## 链式查询方式

![](file://C:\Personal\Documents\IkMarkdown\.assets\第三章系统总线.md82361.6223639.png)

> 首先有一个地址线和数据线连接到了总线控制部件
>
> 地址线，数据线配合着向io接口交互
>
> bs：总线忙
>
> br：总线请求
>
> bs和br向总线控制提出请求
>
> 收到链式的响应
